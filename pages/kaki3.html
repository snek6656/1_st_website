<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Мой сайтик</title>
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300|Sonsie+One"
      rel="stylesheet"
      type="text/css" />
    <link rel="stylesheet" href="style/test.css" />
    <title>Number guessing game</title>
  </head>

  <body>
    <!-- Вот наш главный заголовок, который используется на всех страницах нашего веб-сайта -->

    <header>
      <h1>Мой первый сайт</h1>
    </header>

    <nav>
      <ul>
        <li><a href="../kaki2.html">Домашняя страница</a></li>
        <li><a href="https://t.me/+oenbv_1NLBQ3MTgy">Наша команда</a></li>
        <li><a href="https://t.me/Snek205">Контакты</a></li>
      </ul>

      <!-- Форма поиска — это ещё один распространённый нелинейный способ навигации по веб-сайту. -->

      <form>
        <input type="search" name="q" placeholder="Введите запрос" />
        <input type="submit" value="Найти!" />
      </form>
    </nav>

    <!-- Здесь основное содержимое нашей страницы -->
    <main>
      <!-- Она содержит статью -->
      <article>
        <h2>Игра - угадай число</h2>

        <p>Дано число от 1 до 100. У вас есть 10 попыток.</p>

        <div class="form">
          <label for="guessField">Введите число: </label>
          <input type="number" min="1" max="100" required id="guessField" class="guessField">
          <input type="submit" value="Испытать удачу" class="guessSubmit">
        </div>
    
        <div class="resultParas">
          <p class="guesses"></p>
          <p class="lastResult"></p>
          <p class="lowOrHi"></p>
        </div>

        <script>
          let randomNumber = Math.floor(Math.random() * 100) + 1;
          const guesses = document.querySelector('.guesses');
          const lastResult = document.querySelector('.lastResult');
          const lowOrHi = document.querySelector('.lowOrHi');
          const guessSubmit = document.querySelector('.guessSubmit');
          const guessField = document.querySelector('.guessField');
          let guessCount = 1;
          let resetButton;
    
          function checkGuess() {
            const userGuess = Number(guessField.value);
            if (guessCount === 1) {
              guesses.textContent = 'Предыдущее попытки: ';
            }
    
            guesses.textContent = `${guesses.textContent} ${userGuess}`;
    
            if (userGuess === randomNumber) {
              lastResult.textContent = 'Ай тиииигрр!';
              lastResult.style.backgroundColor = 'green';
              lowOrHi.textContent = '';
              setGameOver();
            } else if (guessCount === 10) {
              lastResult.textContent = '!!!Ой, ооой, ой!!!';
              lowOrHi.textContent = '';
              setGameOver();
            } else {
              lastResult.textContent = 'Неверно!';
              lastResult.style.backgroundColor = 'red';
              if(userGuess < randomNumber) {
                lowOrHi.textContent = 'Последнее число меньше искомого!' ;
              } else if(userGuess > randomNumber) {
                lowOrHi.textContent = 'Последнее число больше искомого!';
              }
            }
    
            guessCount++;
            guessField.value = '';
            guessField.focus();
          }
    
          guessSubmit.addEventListener('click', checkGuess);
    
          function setGameOver() {
            guessField.disabled = true;
            guessSubmit.disabled = true;
            resetButton = document.createElement('button');
            resetButton.textContent = 'Start new game';
            document.body.appendChild(resetButton);
            resetButton.addEventListener('click', resetGame);
          }
    
          function resetGame() {
            guessCount = 1;
            const resetParas = document.querySelectorAll('.resultParas p');
            for (const resetPara of resetParas) {
              resetPara.textContent = '';
            }
    
            resetButton.parentNode.removeChild(resetButton);
            guessField.disabled = false;
            guessSubmit.disabled = false;
            guessField.value = '';
            guessField.focus();
            lastResult.style.backgroundColor = 'white';
            randomNumber = Math.floor(Math.random() * 100) + 1;
          }
        </script>

      <!-- Дополнительный контент также может быть вложен в основной контент -->
      <!-- <aside>
        <h2>Связанные темы</h2>

        <ul>
          <li><a href="kaki2.html">мэйн страница</a></li>
          <li><a href="kaki.html">реальный первый сайт</a></li>
          <li><a href="https://www.orel-adm.ru/ru/helpSMO/announce/">СВО</a></li>
        </ul>
      </aside> -->
    </main>

    <!-- И вот наш главный нижний колонтитул, который используется на всех страницах нашего веб-сайта -->

    <footer>
      <p>©Авторские права никому не принадлежат, 2024. Все права защищены.</p>
    </footer>
  </body>
</html>
